{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios'; // Імпортуємо Axios замість fetch\n\n// Оновлена функція для виконання запиту до API Pixabay з використанням Axios\nexport async function fetchImages(searchQuery, page = 1, perPage = 15) {\n  const apiKey = '43059810-21766dfeafea29ca9c24ae0e2';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await axios.get(url);\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n}\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Функція для додавання нових зображень під попередніми\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n\n  images.forEach(image => {\n    const cardHTML = `\n      <div class=\"card\">\n        <a href=\"${image.largeImageURL}\" data-lightbox=\"image\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </a>\n        <div class=\"info\">\n          <p><strong>Likes</strong> <br>${image.likes}</p>\n          <p><strong>Views</strong> <br>${image.views}</p>\n          <p><strong>Comments</strong> <br>${image.comments}</p>\n          <p><strong>Downloads</strong> <br>${image.downloads}</p>\n        </div>\n      </div>\n    `;\n\n    // Додаємо нову картку зображення під попередніми\n    gallery.insertAdjacentHTML('beforeend', cardHTML);\n  });\n\n  // Після додавання нових елементів до галереї, викликаємо метод refresh\n  const lightbox = new SimpleLightbox('#gallery a', {});\n  lightbox.refresh();\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('search-form');\nconst loader = document.getElementById('loader'); // Отримання елемента спінера\nconst loadMoreBtn = document.getElementById('load-more-btn');\nlet currentSearchQuery = ''; // Зберігаємо поточний пошуковий запит\nlet currentPage = 1; // Ініціалізуємо currentPage\n\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const searchInput = document.getElementById('search-input');\n  const searchQuery = searchInput.value.trim();\n\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  currentSearchQuery = searchQuery; // Оновлюємо поточний пошуковий запит\n  currentPage = 1; // Повертаємо поточну сторінку до початкового значення\n\n  loader.classList.remove('hidden');\n\n  try {\n    const images = await fetchImages(searchQuery);\n    renderImages(images);\n\n    // Показуємо кнопку \"Load more\" після завантаження зображень\n    loadMoreBtn.style.display = 'block';\n  } catch (error) {\n    console.error('Error searching for images:', error);\n  } finally {\n    loader.classList.add('hidden');\n  }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  loader.classList.remove('hidden');\n\n  try {\n    const images = await fetchImages(currentSearchQuery, currentPage + 1);\n    renderImages(images);\n    currentPage++; // Оновлюємо значення поточної сторінки після завантаження наступної\n  } catch (error) {\n    console.error('Error loading more images:', error);\n  } finally {\n    loader.classList.add('hidden');\n  }\n});\n"],"names":["fetchImages","searchQuery","page","perPage","url","axios","error","renderImages","images","gallery","image","cardHTML","SimpleLightbox","searchForm","loader","loadMoreBtn","currentSearchQuery","currentPage","event"],"mappings":"6vBAGO,eAAeA,EAAYC,EAAaC,EAAO,EAAGC,EAAU,GAAI,CAErE,MAAMC,EAAM,qEAA4CH,CAAW,iEAAiEC,CAAI,aAAaC,CAAO,GAE5J,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,KAAK,IACtB,OAAQE,EAAO,CACd,eAAQ,MAAM,uBAAwBA,CAAK,EACpC,EACR,CACH,CCHO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjDD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAW;AAAA;AAAA,mBAEFD,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0CAGlBA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,6CACRA,EAAM,QAAQ;AAAA,8CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,MAMzDD,EAAQ,mBAAmB,YAAaE,CAAQ,CACpD,CAAG,EAGgB,IAAIC,EAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CAClB,CCjCA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAc,SAAS,eAAe,eAAe,EAC3D,IAAIC,EAAqB,GACrBC,EAAc,EAElBJ,EAAW,iBAAiB,SAAU,MAAOK,GAAU,CACrDA,EAAM,eAAc,EAGpB,MAAMjB,EADc,SAAS,eAAe,cAAc,EAC1B,MAAM,KAAI,EAE1C,GAAI,CAACA,EAAa,CAChB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDe,EAAqBf,EACrBgB,EAAc,EAEdH,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACF,MAAMN,EAAS,MAAMR,EAAYC,CAAW,EAC5CM,EAAaC,CAAM,EAGnBO,EAAY,MAAM,QAAU,OAC7B,OAAQT,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,CACtD,QAAY,CACRQ,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAAC,EAEDC,EAAY,iBAAiB,QAAS,SAAY,CAChDD,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACF,MAAMN,EAAS,MAAMR,EAAYgB,EAAoBC,EAAc,CAAC,EACpEV,EAAaC,CAAM,EACnBS,GACD,OAAQX,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,CACrD,QAAY,CACRQ,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAAC"}